!function(){"use strict";var e={n:function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,{a:i}),i},d:function(t,i){for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.apiFetch,i=e.n(t);function n(e,t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)}function a(e){var t,i=1,a=null===(t=e.closest(".ebproductgrid-pagination"))||void 0===t?void 0:t.querySelector(".ebpg-pagination-item.active");if(a){if(i=a.dataset?a.dataset.pagenumber:1,n(e,"ebpg-pagination-item-next")){for(var r=a.nextElementSibling;r&&!r.classList.contains("ebpg-pagination-item");)r=r.nextElementSibling;r.classList.add("active"),a.classList.remove("active")}else if(n(e,"ebpg-pagination-item-previous")){for(var s=a.previousElementSibling;s&&!s.classList.contains("ebpg-pagination-item");)s=s.previousElementSibling;s.classList.add("active"),a.classList.remove("active")}o(e.closest(".ebproductgrid-pagination"))}return i}function o(e){var t=e.querySelector(".ebpg-pagination-item.active");if(t){var i=parseInt(t.dataset.pagenumber),n=e.querySelectorAll(".ebpg-pagination-item"),a=n.length,o=1;n.forEach((function(e){o=parseInt(e.dataset.pagenumber),function(e){e.classList.remove("show"),e.classList.add("hide")}(e),(1===i&&o<=3||o>=i&&o<=i+2||o===a||1===o&&(i>=a-2||i>=4))&&function(e){e.classList.remove("hide"),e.classList.add("show")}(e)}));var r=e.querySelectorAll(".ebpg-pagination-item-separator");r.length>0&&r.forEach((function(e){e.remove()}));var s='<button class="ebpg-pagination-item-separator">...</button>';i<n.length-2&&n[n.length-1].insertAdjacentHTML("beforebegin",s),(i>=a-2||a>4&&i>=4)&&n[1].insertAdjacentHTML("afterend",s),1===i?(e.querySelector(".ebpg-pagination-item-previous").disabled=!0,e.querySelector(".ebpg-pagination-item-next").disabled=!1):i===a?(e.querySelector(".ebpg-pagination-item-previous").disabled=!1,e.querySelector(".ebpg-pagination-item-next").disabled=!0):(e.querySelector(".ebpg-pagination-item-previous").disabled=!1,e.querySelector(".ebpg-pagination-item-next").disabled=!1)}}document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".eb-woo-products-wrapper");if(e)for(var t=0;t<e.length;t++){var r=e[t].querySelector(".ebproductgrid-pagination");if(r){var s=r.querySelectorAll(".ebpg-pagination button");s.length>0&&(document.querySelectorAll(".ebproductgrid-pagination").forEach((function(e){o(e)})),s.forEach((function(e){var t=1;e.addEventListener("click",(function(){var e=this,r=n(this,"ebpg-pagination-button"),s=n(this,"ebpg-pagination-item-previous"),c=n(this,"ebpg-pagination-item-next");t=r?parseInt(t)+1:s?parseInt(a(this))-1:c?parseInt(a(this))+1:parseInt(this.dataset.pagenumber);var p=this.closest(".eb-woo-products-wrapper");if(p){var l=p.dataset;i()({path:"essential-blocks/v1/products?query_data=".concat(l.querydata,"&attributes=").concat(l.attributes,"&pageNumber=").concat(t,"&is_frontend=true")}).then((function(t){r?t?e.closest(".ebproductgrid-pagination").parentElement.querySelector(".eb-woo-products-gallery").insertAdjacentHTML("beforeend",t):(e.closest(".ebproductgrid-pagination").insertAdjacentHTML("beforebegin",'<p class="eb-no-posts">No more products</p>'),e.closest(".ebproductgrid-pagination").remove()):(e.closest(".eb-woo-products-wrapper").querySelectorAll(".eb-woo-products-col").forEach((function(e){e.remove()})),e.closest(".ebproductgrid-pagination").parentElement.querySelector(".eb-woo-products-gallery").insertAdjacentHTML("beforeend",t),n(e,"ebpg-pagination-item")&&(e.closest(".ebproductgrid-pagination").querySelectorAll(".ebpg-pagination-item").forEach((function(e){e.classList.remove("active")})),e.classList.add("active")),o(e.closest(".ebproductgrid-pagination")))}))}}))})))}}}))}();